- [New critique](https://ethereum-magicians.org/t/a-case-for-a-simpler-alternative-to-eip-3074/6493/3) of [[[[EIP]] 3074: Delegated Invocation Contracts]] by [[Yoav Weiss (yoavw)]] dropped. [[simpler [[[[EIP]] 3074: Delegated Invocation Contracts]]]]
    - https://twitter.com/_SamWilsn_/status/1405058704542666757?s=20
    - Very nice thoughtful critique, thanks for providing so many specific examples of your concerns and alternative proposals.
    - First of all, I completely agree that `chain_id` is a very reasonable addition to the proposal, I hadn’t read all of Micah’s objections to it .
    - Secondly, I kindof like the idea of making the whole thing EIP-712 style, seems like wallets should be good at rendering that format. These signatures would still need to have a unique prefix though, to ensure that older wallets don’t ignorantly sign delegation messages of this type without intention.
    - One major difference though: if a wallet adds support for extensions, it is affects only __that__ wallet, and only above a certain version. EIP-3074 adds extension support to __all__ wallets.
        - Re: Old, unaware wallets: My current understanding is that there is currently no wallet that allows signing a message of the proposed form without at least a warning that this could risk all user funds. I think it would be appropriate to do a formal survey with links to proof to back up this claim, but I think it can be done. If this isn’t the case, some effort should be made to encourage any blind-signing wallets to clean up that behavior.
        - Re: Users being enticed to take unnecessary risks. I believe it is a wallet’s job to inform a user about the risks they are taking and provide the safeguards to prevent accidental misuse, but once a user has been informed, if they choose to take a particular risk, I believe that needs to be the user’s responsibility. Not every wallet developer needs to feel that way for 3074 to work. Wallets can simply ignore 3074, not sign messages of its form, and their users will remain under the current risk profile. Some wallets will probably offer some curated and approved number of invokers. And even those developers you might accuse of being enticed by adding new features eagerly, and they might be, but that’s just the nature of permissionless innovation. People are taking risks for perceived benefits. I think this is the ecosystem’s strength, not something to paternalistically attempt to ban. Versions of these risks are already possible today, anyways, via key sharing, etc.
        - Re: Hardware wallets. No wallet would need to support 3074 signatures, and as long as they don’t support blind-signing binary blobs without a salient warning, they should be fine. Hardware wallets that support some invokers or even performing invoker delegations would be responsible for displaying coherent messages related to those.
    - I like the general sentiment of ensuring wallets are not accidentally signing invoker delegation messages, and I think that’s a very actionable security precaution that we can take as a community. I’d really prefer the feature not be gated behind an approving transaction, because that eliminates the MetaTransaction use-case.
    - > Wallet maintainers are not necessarily qualified to identify subtle/malicious bugs in invokers.
    - Hey, I’m not here to claim that I’m able to identify all bugs. As a wallet developer, I come here humbled. I have written bugs! I have overlooked bugs! But is the solution to not write software? To stop installing software? I think we should simply use every tool at our disposal to assess risk, indicate trust, and help users make the decisions that fit their preference. These need to be delegated carefully. We probably shouldn’t trust their review to any one party. Even after many reviews, users should still receive some amount of warning. But you know what? All that is no less than we should be expecting from smart contracts (especially contract accounts) today. It’s the same standard we need to hold.
    - As long as your hardware wallet does not blindly sign invocation messages, even a compromised MetaMask would not be able to steal your funds. And if you preferred to use a hardware wallet, this would mean that either you simply did not receive any of the 3074-endowed benefits, or you’d wait for an update for your hardware wallet.
    - The “protocol level safety over contract-level safety” reminds me of the arguments for app-chains against Ethereum in the first place. In my opinion, Ethereum is a blockchain for permission-less innovation, and it is a place for pushing the boundaries of maximally safe user-directed risk.
    - I agree that the new proposal preserves principle of least privilege, but to an extreme that diminishes the utility of 3074. If we just wanted batching, there are simpler approaches, of course. The difference is the extent of user’s ability to delegate. A greater ability to delegate is more risky, yes, but if implemented safely, also offers a much larger space to innovate.
    - > Contract wallets share __some__ of the issues but not __all__ of them. The user makes a deliberate choice to move assets to a contract wallet.
    - There are now multiple consumer contract wallets that are being promoted to consumers who do not disclaim themselves as having contract bug risk. Vitalik himself promotes contract accounts as a safer alternative to EOAs. We’re already well into the “unspoken account-wide contract risk” era. You could compare that behavior to a wallet signing 3074 messages without mentioning it to the user, for convenience sake.
    - All wallets already take the level of risk they prefer with users’ accounts. We don’t talk about it much, but that’s how it is. Some wallets care a lot about security, and have teams dedicated to it. Others? Who knows, they might focus on shipping features faster, for example. 
    - > Don’t solve a problem on a lower layer that can be solved by a higher layer, especially when the solution involves restricting possibilities.
    - I think Micah has put this elegantly.
    - > I’m not sure if that warning is sufficiently dire.
    - I think we could make this more dire, but we would make it _much more dire_ if 3074 were on the way.
    - > I don’t want to trust their judgement on vetting invokers. I trust them to sign transactions and messages. As for smart contract, I’d rather be vetting them myself.
    - I think this is reasonable! As a wallet developer, I would want to either only permit the most obviously safe invokers, or allow users to opt into the invokers they trusted.
    - > I believe we all agree that EIP 3074 invokers are equivalent to [[setuid executable]]s. Let’s learn from what went wrong with setuid executables and how the problem was mitigated in the last decades. We don’t need to reinvent security when there’s an equivalent we can learn from. We have decades of relevant security research, and there are time-proven patterns we can study.
    - I’m not actually that familiar with this setuid executable example, and I’d love some links to the example attacks and mitigations. From the earlier descriptions in this thread, it sounds like when you’re using chroot, for example, you’re still trusting a trusted computing base to restrict the behavior of subsequent programs being executed. In a way, this sounds a lot like 3074 in its current form: You trust an invoker totally, so it can attenuate control to other external scripts. 
    - > there doesn’t seem to be any reasonable use case for cross-chain invokers…
    - One hypothetical could be “I want to delegate this account’s control to this other key, on every network”.
    - 
