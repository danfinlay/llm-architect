- [[[[endo]] [[LavaMoat]] Call]] [[endo]]
    - [[Waterken]] used [[CapTP]] over [[JSON-RPC API]]
    - [[Secure EcmaScript (SES)]] transforms
        - `setImmediate`
        -  [[evasive transforms]]
            - https://github.com/endojs/endo/issues/609
            - If bundling and less CPU constrained, you can do this work non-heuristically, in a way that does not lose the meaning of the call.
    - Frustrations: 
        - Configuration parameters
            - Lockdown options: Where did they come from? Code!
            - These are currently just selections from named choices, while enablements could be defined by an `.endorc` file or something
            - Are these fixed? What is the scope of this set of enablements as a future set of features?
                - If problems are big enough and the change is small enough, it's in!
                - If the problem is caused by a small enough set of modules, then it can be removed from the enablements list.
                - Exceptions: Things that affect `Object.prototype`
                - Need a compact description of [[the override mistake]]
    - Meeting [[[[MetaMask]] Snaps]] goals incrementally
        - The current agoric packages for archiving and executing contracts
            - supporting [[[[endo]] archives]] for contracts
            - Packages
                - [[@agoric/bundle-source]]
                    - An API wrapper that allows creating a JSON blob that describes a contract and all of its sources where each module of the contract is preserved in a separate string to preserve debugging.
                    - Supports three formats for its bundle format, two different JSON blobs.
                        - A bunch of otherwise "imported" modules combined into a single JS file for easy consumption.
                        - One by [[Michael Fig]]: Putting each module into a separate eval, so you can preserve line numbers from original source code
                            - with the exception of
                                - import statements
                                - export statements
                - [[@agoric/import-bundle]]
                    - Evaluates the output of [[@agoric/bundle-source]]
                    - Creates one compartment in which each module is executed using `Compartment.evaluate`
                    - Supports a zip format for bundling contracts.
                    - Must be run in a [[Secure EcmaScript (SES)]] environments
    - [[Secure EcmaScript (SES)]] vulnerabilities
        - [[Node.js]] has a `domain` property that is added to a variety of objects including [[Promises]]. As long as it exists, if an attacker is able to provoke it into appearing, it appears on dynamically created instances that [[Secure EcmaScript (SES)]] is not able to censor, meaning this cannot operate safely on node. A legacy of the [[node.js domain API]]
            - This property was apparently completely broken and nobody noticed, which would imply it might be removable! Would require a [[Node.js]] contributor.
    - Action items
