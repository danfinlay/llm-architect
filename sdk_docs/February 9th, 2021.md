- [[[[endo]] [[LavaMoat]] Call]]
    - [[lockdown]] vs [[JavaScript Compartment]], why not separate?
        - [[JavaScript Compartment]] [[TC-39]] specification is being drafted by [[Bradley Farias]]
        - [[JavaScript Compartment]] may not support sloppy mode
        - lockdown changes the behavior of compartments so that compartments after lockdown have strong confinement properties.
    - [[esm]] introduced [[live binding]]
        - problem
            - The translation technique we needed hooked into the translation technique of the [[eight magic lines]] that required a use of power that would not be available in any specification of an evaluator.
            - For a [[live binding]], we compute the module into an evaluable string, so that `module` is a variable that's used but not available in the source code.
                - An assignment to this variable will look up the binding on a with on a [[Proxy]].
                - They define a setter on this proxy, so they can then propogate those changes to all the other objects that should respond to a live binding.
            - Emulating this behavior with a compartment evaluator can't meet a requirement:
                - We want the translation to be minimally invasive. Preserve the original source as written for every line possible.
            - We can achieve a translation without rewriting with the exception that we'd need to rewrite import and export statements.
                - We can be line & column accurate for every bit of code except those, and since debuggers never stop on import/exports, our debuggers can continue working confidently.
            - Desperate to get away from rollup and other packagers that do aggressive rewrites because they do rewrites that they think are semantic-breaking but was wrong.
                - [[Secure EcmaScript (SES)]] avoids this by being incredibly careful about what they ever dare rewrite.
                    - imports
                    - exports
                    - import keyword
                        - import expressions (dynamic)
                            - can occur in operational lines of code.
                        - import meta-expression
    - lockdown/compartment distinctions
        - [[XS Engine]] has a form of [[JavaScript Compartment]] that is unique to themselves.
            - The [[ses-shim]] tracks the [[TC-39]] proposal more closely.
    - [[CommonJS]] vs [[esm]] module system history
        - [[Kris Kowal]] presented a module syntax
        - Members of the [[Scheme]] community felt [[CommonJS]] was too complicated, so they proposed a new one, which they proposed calling "the simple module system"
        - [[esm]] modules allow [[query params]] to be added, which will cache bust and allows the host to provide conditional/parameterized packages.
    - [[operator overloading]] can be safe if it's done lexically
        - Imagine two types from two sources
            -  a new type of 2d cartesian points (x,y)
            - A new type of complex numbers
        - These imported operators allow either of these to be added with a `+`.
        - If a module imports  a new type of 2d cartesian points (x,y) and adds those, it gets the correct type back.
        - If I send one of these points to another module, it should not be able to use the new operator, because my import of the new operator overloading behavior was confined to my scope (lexically). 
    - [[Facebook]] was beginning a technical committee on [[blockchain]]
        - Seemed to be related to their [[Move]] blockchain, evaluating its plausibility for being a web standard.
    - [[Nick Szabo]]
        - [on clay accounting mechanisms](https://nakamotoinstitute.org/the-playdough-protocols/)
        - [keynote slides from a 2004 smart contract conference](https://twitter.com/nickszabo4/status/617389897821896704?s=21)
        - lso found http://tab.computer.org/tcec/cec04/programWEC.html whose keynote link does not link to the slides. These pages show the program chair etc before they dropped out and I stepped in.
